version: 1
doc: tjpb_despacho
fields:
  PROCESSO_ADMINISTRATIVO:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)p\s*r\s*o\s*c\s*e\s*s\s*s\s*o\s*a\s*d\s*m\s*i\s*n\s*i\s*s\s*t\s*r\s*a\s*t\s*i\s*v\s*o\s*(?:n[ºo°]?|nº)?\s*[:\-]?\s*([0-9][0-9\./\-]{5,30})'
            group: 1
          - pattern: '(?i)p\s*r\s*o\s*c\s*e\s*s\s*s\s*o\s*(?:a\s*d\s*m\s*i\s*n\s*i\s*s\s*t\s*r\s*a\s*t\s*i\s*v\s*o\s*)?(?:n[ºo°]?|nº)?\s*[:\-]?\s*([0-9]{4}\.[0-9]{3}\.[0-9]{3}|[0-9]{10,20})'
            group: 1
          - pattern: '(?i)processo\s*:\s*([0-9]{4}\.[0-9]{3}\.[0-9]{3})'
            group: 1
          - pattern: '(?i)processo\s*(?:administrativo|adme|ci|sei)\s*(?:n[ºo]?|nº)?\s*[:\-]?\s*([0-9\./\-]{6,25})'
            group: 1
          - pattern: '(?i)processo\s*n[ºo]?\.?\s*([0-9]{4}\.[0-9]{3}\.[0-9]{3})'
            group: 1
          - pattern: '(?i)processo\s*n[\u00ba\u00b0o]?\.?\s*([0-9]{6,7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}(?:\.[0-9]{4})?)'
            group: 1
          - pattern: '(?i)SEI\s*([0-9]{6,7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}(?:\.[0-9]{4})?)'
            group: 1
  PROCESSO_JUDICIAL:
    sources:
      - band: front_head
        nlp_labels: [CNJ]
        regex:
          - pattern: '(?i)processo\s*(?:judicial|n[ºo]?|proc\.?)[\s:,-]*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)a[cç][aã]o\s*n[\u00ba\u00b0o]?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)autos\s+do\s+processo\s*n[\u00ba\u00b0o]?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)processo\s+de\s*n[ºo]?\s*º?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)processo\s+de\s*n[ºo]?\s*º?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]{3}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)processo\s*(?:judicial|n[ºo]?|proc\.?)[\s:,-]*([0-9\.\-\/]{15,25})'
            group: 1
          - pattern: '(?i)n[\u00ba\u00b0o]?\s*[:\-]?\s*([0-9]{7}\s*-\s*[0-9]{2}\s*\.?\s*[0-9]{4}\s*\.?\s*[0-9]{1}\s*\.?\s*[0-9]{2}\s*\.?\s*[0-9]{4})'
            group: 1
  COMARCA:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)comarca\s+da\s+capital'
            group: 0
          - pattern: '(?i)comarca\s+(?:da|de)\s+([\p{L}\s]+?)(?=\s*(?:,|\.|$|\s+interessad|\s+requerente|\s+ju[ií]zo|\s+vara))'
            group: 1
  VARA:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)ju\p{L}zo\s+da\s+(.+?)(?=,\s*comarca|\s+da\s+comarca|\s+comarca|\s+interessad|\s*$)'
            group: 1
          - pattern: '(?i)ju\p{L}zo\s+do\s+(.+?)(?=,\s*comarca|\s+da\s+comarca|\s+comarca|\s+interessad|\s*$)'
            group: 1
          - pattern: '(?i)(\d+\s*(?:a|ª)?\s*vara[^\n]{0,80}?)\s+da\s+comarca\s+de\s+([\p{L}\s]+)'
            group: 1
  PROMOVENTE:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)movid[oa][\\s\\S]{0,120}?\\s+p(?:or|elo|ela)\\s+(.+?)(?=\\s+(?:CPF|CNPJ)\\b|,\\s*(?:CPF|CNPJ)|\\s+em\\s+face\\b)'
            group: 1
          - pattern: '(?i)movid[oa]\\s+p(?:or|elo|ela)\\s+([^,]+?)(?:,|\\s+em\\s+face\\b)'
            group: 1
  PROMOVIDO:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)em\s+face\s+(?:do|da|de)?\s+(.+?)(?:,\s*(?:CPF|CNPJ)|,?\s+perante\s+[oa]|,?\s+em\s+curso\s+perante\s+[oa]|\s+cumpre\b|\s+a\s+resolu)'
            group: 1
  PERITO:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)interessad[oa]\\s*:\\s*([^\\n–\\-]{5,}?)(?=\\s*[–\\-]|\\s+Ospresentes|\\s+Os\\s+presentes|\\s+O\\s+presente|\\s+Trata|\\s+Trata-se|\\s+Processo|\\s+CPF|\\s+PIS|$)'
            group: 1
          - pattern: '(?i)perit[oa][^,\\n]{0,40}?([A-ZÁÂÃÀÉÊÍÓÔÕÚÇ][A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ\\s.-]{5,})\\s+CPF\\s*[:\\s]*[0-9\\.\\-]{11,14}'
            group: 1
          - pattern: '(?i)perit[oa][^,\\n]{0,80}?nomead[oa]\\s+([^,]+?)(?=,|\\s+pela\\s+realiza|\\s+para\\s+realiza|\\s+no\\s+valor|$)'
            group: 1
          - pattern: '(?i)perit[oa]\\s*[:\\-]?\\s*([A-ZÁÂÃÀÉÊÍÓÔÕÚÇ][A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ\\s.-]{5,})'
            group: 1
          - pattern: '(?i)perit[oa]\\s+[^,\\n]+?,\\s*([^,\\n]+?)(?=\\s*,\\s*(?:CPF|CRM|PIS|INSS)|\\s+no\\s+valor|\\s+para\\s+realiza|$)'
            group: 1
  CPF_PERITO:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)perito[\s\S]{0,120}?CPF\s*([0-9]{3}\.?[0-9]{3}\.?[0-9]{3}-?[0-9]{2})'
            group: 1
      - band: back_tail
        regex:
          - pattern: '(?i)perito[\s\S]{0,120}?CPF\s*([0-9]{3}\.?[0-9]{3}\.?[0-9]{3}-?[0-9]{2})'
            group: 1
  ESPECIALIDADE:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)perit[oa]\\s+([A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+(?:\\s+[A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+){0,2})\\s+nomead[oa]'
            group: 1
          - pattern: '(?i)interessad[oa]\\s*:\\s*[^\\n–\\-]{2,80}?[–\\-]\\s*([^\\n]{2,80}?)(?=\\s+(?:Os|Trata|Processo|CPF|PIS|$))'
            group: 1
          - pattern: '(?i)perit[oa]\\s+([A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+(?:\\s+[A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+){0,2})\\s*,'
            group: 1
          - pattern: '(?i)especialidad[eé]\\s*[:\\-]?\\s*([A-ZÁÂÃÀÉÊÍÓÔÕÚÇ][A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ\\s.-]{3,})'
            group: 1
          - pattern: '(?i)perit[oa]\\s+[^,\\n]+?,\\s*([^,\\n]+?)(?=\\s*,\\s*(?:CPF|CRM|PIS|INSS)|\\s+pela\\s+realiza|\\s+para\\s+realiza|\\s+no\\s+valor|$)'
            group: 1
  ESPECIE_DA_PERICIA:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)per[ií]cia\\s+(m[eé]dic[oa]|grafot[eê]cnic[oa]|cont[aá]bil|odontol[oó]gic[oa]|psicol[oó]gic[oa]|psiqui[aá]tric[ao]|engenheir[oa]|engenharia|informatica|ambiental|arquitet[oô]nic[ao]|fonoaudiol[oó]gic[oa]|fisioter[aá]pic[oa])'
            group: 1
          - pattern: '(?i)per[ií]cia\\s+([A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ][A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ\\s\\-]{3,})\\s+(?=nos\\s+autos|na\\s+a[cç][aã]o|em\\s+a[cç][aã]o)'
            group: 1
  VALOR_ARBITRADO_JZ:
    sources:
      - band: front_head
        nlp_labels: [VALOR]
        regex:
          - pattern: '(?i)valor\\s+arbitrad[oa][^\\n]{0,40}?(R\\$\\s*\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)importe[^\\n]{0,60}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)(?:fix[ao]s?|arbitro)\\s+os?\\s+honor[aá]rios[^\\n]{0,80}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)arbitrad[oa]s?[^\\n]{0,80}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)honor[aá]rios\\s+periciais[^\\n]{0,80}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)honor[aá]rios[^\\n]{0,80}?fixad[oa]s?[^\\n]{0,40}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)no\\s+valor\\s+de\\s*(R\\$\\s*\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)valor\\s+de\\s*(R\\$\\s*\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
  VALOR_ARBITRADO_CM:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)conselho\s+da\s+magistratura[\s\S]{0,120}?valor\s+de\s+(R\$\s*\d{1,3}(?:\.\d{3})*,\s*\d{2})'
            group: 1
  DATA_DESPESA:
    sources:
      - band: back_signature
        regex:
          - pattern: '(?i)jo[aã]o\\s+pessoa[\\s,\\-]*([0-9]{1,2}\\s+de\\s+[A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+\\s+de\\s+\\d{4})'
            group: 1
          - pattern: '(?i)\\b(0?[1-9]|[12][0-9]|3[01])[./-](0?[1-9]|1[0-2])[./-]\\d{4}\\b'
            group: 0
      - band: back_tail
        regex:
          - pattern: '(?i)jo[aã]o\\s+pessoa[\\s,\\-]*([0-9]{1,2}\\s+de\\s+[A-Za-zÁÂÃÀÉÊÍÓÔÕÚÇ]+\\s+de\\s+\\d{4})'
            group: 1
          - pattern: '(?i)\\b(0?[1-9]|[12][0-9]|3[01])[./-](0?[1-9]|1[0-2])[./-]\\d{4}\\b'
            group: 0
  VALOR_ARBITRADO_DE:
    sources:
      - band: back_tail
        regex:
          - pattern: '(?i)autorizo\\s+o\\s+pagamento[^\\n]{0,120}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)reserva\\s+orçament[aá]ria[^\\n]{0,120}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)reserva[\\s\\S]{0,120}?no\\s+valor(?:\\s+solicitado)?\\s+de\\s*R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)valor\\s+arbitrado[^\\n]{0,80}?R\\$\\s*(\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
          - pattern: '(?i)no\\s+valor(?:\\s+solicitado)?\\s+de\\s*(R\\$\\s*\\d{1,3}(?:\\.\\d{3})*,\\s*\\d{2})'
            group: 1
