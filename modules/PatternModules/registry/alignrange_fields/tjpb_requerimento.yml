version: 1
doc: tjpb_requerimento
fields:
  PROCESSO_ADMINISTRATIVO:
    sources:
      - band: front_head
        nlp_labels: [CNJ_PARTIAL]
        regex:
          - pattern: '(?i)processo\s*(?:administrativo|adme|ci|sei)\s*(?:n[ºo]?|nº)?\s*[:\-]?\s*([0-9\./\-]{6,25})'
            group: 1
          - pattern: '(?i)processo\s*administrativo[\s\S]{0,40}?([0-9]{6,7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}(?:\.[0-9]{4})?)'
            group: 1
          - pattern: '(?i)processo\s*n[ºo]?\s*([0-9]{6,7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}(?:\.[0-9]{4})?)'
            group: 1
          - pattern: '(?i)SEI\s*([0-9]{6,7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}(?:\.[0-9]{4})?)'
            group: 1
  PROCESSO_JUDICIAL:
    sources:
      - band: front_head
        nlp_labels: [CNJ]
        regex:
          - pattern: '(?i)processo\s*(?:judicial|n[ºo]?|proc\.?)[\s:,-]*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)a[cç][aã]o\s*n[ºo]?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)autos\s+do\s+processo\s*n[ºo]?\s*([0-9]{7}-[0-9]{2}\.[0-9]{4}\.[0-9]\.[0-9]{2}\.[0-9]{4})'
            group: 1
          - pattern: '(?i)processo\s*(?:judicial|n[ºo]?|proc\.?)[\s:,-]*([0-9\.\-\/]{15,25})'
            group: 1
          - pattern: '(?i)n[ºo]?\s*[:\-]?\s*([0-9]{7}-?[0-9]{2}\.?[0-9]{4}\.?[0-9]{1}\.?[0-9]{2}\.?[0-9]{4})'
            group: 1
  COMARCA:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)comarca\s+da\s+capital'
            group: 0
          - pattern: '(?i)c\s*o\s*m\s*a\s*r\s*c\s*a\s+(?:da|de)\s+([\p{L}\s]+?)(?=\s*\d|\s*-|\s+a\s*u\s*t\s*o\s*r|\s+r\s*[eé]\s*u|$)'
            group: 1
  VARA:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)ju\p{L}zo\s+da\s+(.+?)(?=,\s*comarca|\s+da\s+comarca|\s+comarca|\s+interessad|\s*$)'
            group: 1
          - pattern: '(?i)ju\p{L}zo\s+do\s+(.+?)(?=,\s*comarca|\s+da\s+comarca|\s+comarca|\s+interessad|\s*$)'
            group: 1
          - pattern: '(?i)(\d+\s*a?\s*vara[^\n]{0,80}?)\s+da\s+comarca\s+de\s+([\p{L}\s]+)'
            group: 1
          - pattern: '(?i)(\d+\s*ª?\s*v\s*a\s*r\s*a[^\n]{0,80}?)\s+da\s+comarca\s+de\s+([\p{L}\s]+)'
            group: 1
          - pattern: '(?i)unidade\s+judici[aá]ria\s+requisit\s*ante\s*:\s*([^\n]+?)(?=\s+a\s*u\s*t\s*o\s*r|\s+r\s*[eé]\s*u|\s+cpf|$)'
            group: 1
  PROMOVENTE:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)movid[oa]\s+por\s+(.+?)(?:,\s*(?:CPF|CNPJ)|\s+em\s+face\s+de)'
            group: 1
          - pattern: '(?i)a\s*u\s*t\s*o\s*r\s*\(\s*e\s*s\s*\)\s*\)+\s*:\s*([^\n]+?)\s+c\s*p\s*f'
            group: 1
  PROMOVIDO:
    sources:
      - band: front_head
        regex:
          - pattern: '(?i)em\s+face\s+(?:do|da|de)?\s+(.+?)(?:,\s*(?:CPF|CNPJ)|\s+perante\s+o)'
            group: 1
          - pattern: '(?i)r\s*[eé]\s*u\s*\(\s*s\s*\)\s*\)+\s*:\s*([^\n]+?)\s+c\s*p\s*f'
            group: 1
  VALOR_ARBITRADO_JZ:
    sources:
      - band: front_head
        nlp_labels: [VALOR]
        regex:
          - pattern: '(?i)no\s+valor\s+de\s+(R\$\s*\d{1,3}(?:\.\d{3})*,\d{2})'
            group: 1
          - pattern: '(?i)valor\s+de\s+(R\$\s*\d{1,3}(?:\.\d{3})*,\d{2})'
            group: 1
  DATA_REQUISICAO:
    sources:
      - band: front_head
        nlp_labels: [DATA]
        regex:
          - pattern: '(?i)\b[A-Z\p{L}\s]+-?\s*PB,\s*(\d{1,2}\s+de\s+[a-z\p{L}]+\s+de\s+\d{4})'
            group: 1
          - pattern: '(?i)(\d{1,2}/\d{1,2}/\d{2,4})'
            group: 1
      - band: back_tail
        nlp_labels: [DATA]
        regex:
          - pattern: '(?i)(\d{1,2}\s+de\s+[a-z\p{L}]+\s+de\s+\d{4})'
            group: 1
          - pattern: '(?i)(\d{1,2}/\d{1,2}/\d{2,4})'
            group: 1
